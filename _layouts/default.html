<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% if page.title and page.title != 'Home' %}{{ page.title }} · {% endif %}{{ site.title }}</title>
  <meta name="description" content="{{ page.description | default: site.description }}">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;1,9..40,300&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
</head>
<body>

<nav class="site-nav">
  <div class="nav-wrap">

    <a href="{{ '/' | relative_url }}" class="nav-brand">
      <span class="n-name">Mansi Sheth</span>
      <span class="n-sep">·</span>
      <span class="n-role">{{ site.author.role }}</span>
    </a>

    <button class="nav-burger" id="nb" aria-label="Menu">
      <span></span><span></span><span></span>
    </button>

    <ul class="nav-list" id="nl">
      {% for item in site.nav %}
        {% if item.dropdown %}
          <li class="nav-item" id="dd-{{ forloop.index }}">
            <button class="nav-btn" aria-haspopup="true" aria-expanded="false">
              {{ item.label }}
              <svg class="nav-chevron" viewBox="0 0 9 5" fill="none">
                <path d="M1 1L4.5 4L8 1" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
              </svg>
            </button>
            <ul class="nav-drop" role="menu">
              {% for child in item.children %}
                <li><a href="{{ child.url | relative_url }}" class="drop-btn" role="menuitem">{{ child.label }}</a></li>
              {% endfor %}
            </ul>
          </li>
        {% elsif item.new_tab %}
          <li class="nav-item">
            <a href="{{ item.url }}" class="nav-btn" target="_blank" rel="noopener">{{ item.label }} ↗</a>
          </li>
        {% else %}
          <li class="nav-item">
            <a href="{{ item.url | relative_url }}" class="nav-btn{% if page.url == item.url %} active{% endif %}">{{ item.label }}</a>
          </li>
        {% endif %}
      {% endfor %}
    </ul>

  </div>
</nav>

<main>{{ content }}</main>

<script>
(function(){
  // burger
  var nb = document.getElementById('nb');
  var nl = document.getElementById('nl');
  nb.addEventListener('click', function(){
    nl.classList.toggle('open');
    nb.classList.toggle('open');
  });
  // dropdowns
  nl.querySelectorAll('.nav-item > .nav-btn[aria-haspopup]').forEach(function(btn){
    btn.addEventListener('click', function(e){
      e.stopPropagation();
      var li = btn.parentElement;
      var opening = !li.classList.contains('open');
      nl.querySelectorAll('.nav-item').forEach(function(x){ x.classList.remove('open'); });
      nl.querySelectorAll('[aria-haspopup]').forEach(function(x){ x.setAttribute('aria-expanded','false'); });
      if(opening){ li.classList.add('open'); btn.setAttribute('aria-expanded','true'); }
    });
  });
  document.addEventListener('click', function(){
    nl.querySelectorAll('.nav-item').forEach(function(x){ x.classList.remove('open'); });
  });
})();
</script>
</body>
</html>
